<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ChatFun Hub — Upload</title>
<style>
  :root{--card:#0b1220;--muted:#94a3b8;--accent:#ff6b00}
  *{box-sizing:border-box}
  html,body{margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#071021,#07172a);color:#e6eef8}
  .site{max-width:820px;margin:18px auto;padding:14px}
  .card{background:var(--card);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  input,textarea,select{width:100%;padding:10px;margin:6px 0;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:inherit}
  .btn{padding:10px 12px;border-radius:8px;border:none;background:var(--accent);color:#071028;font-weight:700}
  .u-small{font-size:13px;color:var(--muted)}
  footer{margin-top:18px;text-align:center;color:var(--muted)}
</style>
</head>
<body>
  <div class="site">
    <header style="display:flex;align-items:center;gap:10px">
      <div style="width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,#ff6b00,#ff9a3c);display:grid;place-items:center">CF</div>
      <div style="font-weight:700">ChatFun Hub — Upload</div>
      <div style="margin-left:auto"><a href="index.html"><button class="btn">Home</button></a></div>
    </header>

    <main style="margin-top:12px">
      <div class="card">
        <form id="uploadForm" enctype="multipart/form-data">
          <label class="u-small">Pack Title</label>
          <input name="title" placeholder="E.g. Naija Slangs Pack" required>

          <label class="u-small">Category</label>
          <select name="category">
            <option value="stickers">Stickers</option>
            <option value="ringtones">Ringtones</option>
            <option value="templates">Templates</option>
            <option value="status">Status</option>
          </select>

          <label class="u-small">Short description</label>
          <textarea name="description" rows="3"></textarea>

          <label class="u-small">Upload Pack File *</label>
          <input type="file" name="file" required>

          <label class="u-small">Thumbnail (optional)</label>
          <input type="file" name="thumb">

          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="btn" type="submit">Submit Pack</button>
            <button class="btn" id="clear" type="button" style="background:rgba(255,255,255,0.06);color:inherit">Clear</button>
          </div>
        </form>
      </div>
    </main>

    <footer>Thanks for adding content • <a href="index.html">Back to Home</a></footer>
  </div>

<script>
document.getElementById("uploadForm").addEventListener("submit", async (e)=>{
  e.preventDefault();
  const form = e.target;
  const fd = new FormData(form);

  const res = await fetch('/api/upload', { method:"POST", body: fd });
  const data = await res.json();

  if(data.ok){
    alert("Upload successful!");
    form.reset();
  } else {
    alert("Error: " + (data.error || "Upload failed"));
  }
});

document.getElementById("clear").addEventListener("click", ()=>{
  document.getElementById("uploadForm").reset();
});
</script>
</body>
</html>
